############################################################################
# If Player Is NOT, looking at block:
############################################################################
execute anchored eyes store result score @s claims_detect unless block ^1 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^1 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^1 #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^-1 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^-1 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^-1 #protection:config run scoreboard players set @s claims_detect 0

#
execute anchored eyes store result score @s claims_detect unless block ^2 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^2 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^2 #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^-2 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^-2 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^-2 #protection:config run scoreboard players set @s claims_detect 0

#
execute anchored eyes store result score @s claims_detect unless block ^3 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^3 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^3 #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^-3 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^-3 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^-3 #protection:config run scoreboard players set @s claims_detect 0

#
execute anchored eyes store result score @s claims_detect unless block ^4 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^4 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^4 #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^-4 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^-4 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^-4 #protection:config run scoreboard players set @s claims_detect 0

#
execute anchored eyes store result score @s claims_detect unless block ^5 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^5 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^5 #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^-5 ^ ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^-5 ^ #protection:config run scoreboard players set @s claims_detect 0
execute anchored eyes store result score @s claims_detect unless block ^ ^ ^-5 #protection:config run scoreboard players set @s claims_detect 0



############################################################################
# If Player Is, looking at block:
############################################################################
execute anchored eyes store result score @s claims_detect if block ^1 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^1 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^1 #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^-1 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^-1 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^-1 #protection:config run scoreboard players set @s claims_detect 1

#
execute anchored eyes store result score @s claims_detect if block ^2 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^2 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^2 #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^-2 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^-2 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^-2 #protection:config run scoreboard players set @s claims_detect 1

#
execute anchored eyes store result score @s claims_detect if block ^3 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^3 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^3 #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^-3 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^-3 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^-3 #protection:config run scoreboard players set @s claims_detect 1

#
execute anchored eyes store result score @s claims_detect if block ^4 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^4 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^4 #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^-4 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^-4 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^-4 #protection:config run scoreboard players set @s claims_detect 1

#
execute anchored eyes store result score @s claims_detect if block ^5 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^5 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^5 #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^-5 ^ ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^-5 ^ #protection:config run scoreboard players set @s claims_detect 1
execute anchored eyes store result score @s claims_detect if block ^ ^ ^-5 #protection:config run scoreboard players set @s claims_detect 1


############################################################################
# Configeration for Lock Chests:
############################################################################
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..30,tag=30x30] at @s unless score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/lock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..25,tag=25x25] at @s unless score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/lock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..20,tag=20x20] at @s unless score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/lock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..15,tag=15x15] at @s unless score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/lock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..10,tag=10x10] at @s unless score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/lock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..5,tag=5x5] at @s unless score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/lock


############################################################################
# Configeration for Trust Guest, Unlock Chests:
############################################################################
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..30,tag=30x30] at @s unless score @s claim_id = @p[scores={claims_detect=1},tag=claim_trusted] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..25,tag=25x25] at @s unless score @s claim_id = @p[scores={claims_detect=1},tag=claim_trusted] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..20,tag=20x20] at @s unless score @s claim_id = @p[scores={claims_detect=1},tag=claim_trusted] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..15,tag=15x15] at @s unless score @s claim_id = @p[scores={claims_detect=1},tag=claim_trusted] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..10,tag=10x10] at @s unless score @s claim_id = @p[scores={claims_detect=1},tag=claim_trusted] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..5,tag=5x5] at @s unless score @s claim_id = @p[scores={claims_detect=1},tag=claim_trusted] claim_id run function protection:configs/unlock


############################################################################
# Configeration for Unlock Chests:
############################################################################
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..30,tag=30x30] at @s if score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..25,tag=25x25] at @s if score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..20,tag=20x20] at @s if score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..15,tag=15x15] at @s if score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..10,tag=10x10] at @s if score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/unlock
execute as @e[type=minecraft:marker,tag=claim_center,distance=0..5,tag=5x5] at @s if score @s claim_id = @p[scores={claims_detect=1}] claim_id run function protection:configs/unlock